!function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=71)}({71:function(e,t){mui.init({swipeBack:!0}),mui.plusReady(function(){var e={token:plus.storage.getItem("token")};mui.ajax(apiUrl+"Usersint/check_pay_password",{data:e,type:"post",timeout:1e4,success:function(e){var e=JSON.parse(e);1==e.status&&0==e.data.if_set&&(document.getElementById("is-set").innerHTML="登录密码",document.getElementById("title").innerHTML="设置支付密码"),plus.storage.setItem("if-set-psw",e.data.if_set.toString())},beforeSend:function(){plus.nativeUI.showWaiting("玩命加载中...")},complete:function(){plus.nativeUI.closeWaiting()},error:function(e,t){"abort"==t?mui.alert("连接不到网络，请检查您当前的网络设置"):mui.alert("参数错误"+t)}}),mui(document).on("tap","#code",function(){var e={token:plus.storage.getItem("token")};mui.ajax(apiUrl+"/Usersint/get_pay_password_verify",{data:e,type:"post",timeout:1e4,success:function(e){function t(e){if(0==o)return e.removeAttribute("disabled"),e.innerHTML="重新获取验证码",void(o=60);e.setAttribute("disabled",!0),e.innerHTML="重新发送("+o+")",o--,setTimeout(function(){t(e)},1e3)}console.log(e);var e=JSON.parse(e);if(0==e.status)return!1;var o=60;t(document.getElementById("code"))},beforeSend:function(){plus.nativeUI.showWaiting("数据提交中...")},complete:function(){plus.nativeUI.closeWaiting()},error:function(e,t){"abort"==t?mui.alert("连接不到网络，请检查您当前的网络设置"):mui.alert("参数错误"+t)}})}),console.log(plus.storage.getItem("token")),mui(document).on("tap","#btn-update-psw",function(e){if(0==plus.storage.getItem("if-set-psw")){var t=document.forms[0].old_password.value,o=document.forms[0].new_password.value,n=document.forms[0].new_password1.value,r=document.forms[0].code01.value;if(""==t||""==o||""==n||""==r)return mui.alert("请完善您的信息"),!1;if(o!=n)return mui.toast("两次输入密码不一致"),!1;var s={token:plus.storage.getItem("token"),password:t,pay_password:o,verify:r};mui.ajax(apiUrl+"Usersint/set_pay_password_with_verify",{data:s,type:"post",timeout:1e4,success:function(e){var e=JSON.parse(e);1==e.status?mui.alert(e.detail,function(){document.forms[0].reset()}):mui.alert(e.detail)},beforeSend:function(){plus.nativeUI.showWaiting("玩命加载中...")},complete:function(){plus.nativeUI.closeWaiting()},error:function(e,t){"abort"==t?mui.alert("连接不到网络，请检查您当前的网络设置"):mui.alert("参数错误"+t)}})}else{var t=document.forms[0].old_password.value,o=document.forms[0].new_password.value,n=document.forms[0].new_password1.value,r=document.forms[0].code01.value;if(""==t||""==o||""==n||""==r)return mui.toast("请完善您的信息"),!1;if(o!=n)return mui.toast("两次输入密码不一致"),!1;var s={token:plus.storage.getItem("token"),old_pay_password:t,new_pay_password:o,verify:r};mui.ajax(apiUrl+"Usersint/update_pay_password_with_verify",{data:s,type:"post",timeout:1e4,success:function(e){var e=JSON.parse(e);1==e.status?mui.alert(e.detail,function(){document.forms[0].reset()}):mui.alert(e.detail)},beforeSend:function(){plus.nativeUI.showWaiting("玩命加载中...")},complete:function(){plus.nativeUI.closeWaiting()},error:function(e,t){mui.alert("参数错误："+t)}})}})})}});