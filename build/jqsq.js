!function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=32)}({32:function(e,t){function i(e){var t=e.detail.forms;if("forms0"==t){var i=document.forms[0].shen_pi_ren.value;if(i.indexOf(e.detail.usersIdArray)>=0&&"shen-he-ren"==e.detail.shenHeType)return mui.toast("请不要重复选择审批人！"),!1;"shen-he-ren"==e.detail.shenHeType?($("#forms0").find("#"+e.detail.id).append(e.detail.usersHtml),document.forms[0].shen_pi_ren.value=""!=i?i+","+e.detail.usersIdArray:e.detail.usersIdArray):"chao-song-ren"==e.detail.shenHeType&&($("#forms0").find("#"+e.detail.id).html(e.detail.usersHtml),document.forms[0].chao_song_ren.value=e.detail.usersIdArray)}else if("forms1"==t){var i=document.forms[1].shen_pi_ren.value;if(i.indexOf(e.detail.usersIdArray)>=0&&"shen-he-ren"==e.detail.shenHeType)return mui.toast("请不要重复选择审批人！"),!1;$("#forms1").find("#"+e.detail.id).append(e.detail.usersHtml),"shen-he-ren"==e.detail.shenHeType?document.forms[1].shen_pi_ren.value=""!=i?i+","+e.detail.usersIdArray:e.detail.usersIdArray:"chao-song-ren"==e.detail.shenHeType&&(document.forms[1].chao_song_ren.value=e.detail.usersIdArray)}else if("forms2"==t){var i=document.forms[2].shen_pi_ren.value;if(i.indexOf(e.detail.usersIdArray)>=0&&"shen-he-ren"==e.detail.shenHeType)return mui.toast("请不要重复选择审批人！"),!1;$("#forms2").find("#"+e.detail.id).append(e.detail.usersHtml),"shen-he-ren"==e.detail.shenHeType?document.forms[2].shen_pi_ren.value=""!=i?i+","+e.detail.usersIdArray:e.detail.usersIdArray:"chao-song-ren"==e.detail.shenHeType&&(document.forms[2].chao_song_ren.value=e.detail.usersIdArray)}else if("forms3"==t){var i=document.forms[3].shen_pi_ren.value;if(i.indexOf(e.detail.usersIdArray)>=0&&"shen-he-ren"==e.detail.shenHeType)return mui.toast("请不要重复选择审批人！"),!1;$("#forms3").find("#"+e.detail.id).append(e.detail.usersHtml),"shen-he-ren"==e.detail.shenHeType?document.forms[3].shen_pi_ren.value=""!=i?i+","+e.detail.usersIdArray:e.detail.usersIdArray:"chao-song-ren"==e.detail.shenHeType&&(document.forms[3].chao_song_ren.value=e.detail.usersIdArray)}}mui.init({swipeBack:!0}),window.addEventListener("insertHtml",i),mui(".mui-input-row").on("tap",".image-close",function(){var e=this.getAttribute("data-form"),t=null;"forms0"==e?t=0:"forms1"==e?t=1:"forms2"==e?t=2:"forms3"==e&&(t=3);var i=this.getAttribute("data-usersid"),n=this.getAttribute("data-type");if("shen-he-ren"==n){var a=document.forms[t].shen_pi_ren.value;a=a.split(","),removeByValue(a,i),document.forms[t].shen_pi_ren.value=a,this.parentNode.style.display="none"}else if("chao-song-ren"==n){var a=document.forms[t].chao_song_ren.value;a=a.split(","),removeByValue(a,i),document.forms[t].chao_song_ren.value=a,this.parentNode.style.display="none"}}),mui("form").on("tap","#datetime",function(){var e={type:"datetime",beginDate:new Date(1900,1,1)},t=new mui.DtPicker(e),i=this;t.show(function(e){i.value=e.text,this.value=e.text,t.dispose()})}),mui(document).on("tap",".image-up",function(){var e=this.getAttribute("id"),t=this.getAttribute("forms"),i="";i="shen-he-ren"==e?"jqsq-userlist-shen-he-ren":"jqsq-userlist",mui.openWindow({url:i+".html",id:i,createNew:!0,extras:{shenHeType:e,forms:t},show:{autoShow:!0,aniShow:"slide-in-bottom",duration:200},waiting:{autoShow:!1}})}),mui("form").on("tap","#date",function(){var e={type:"date",beginDate:new Date(1900,1,1)},t=new mui.DtPicker(e),i=this;t.show(function(e){i.value=e.text,this.value=e.text,t.dispose()})}),mui.plusReady(function(){var e={token:plus.storage.getItem("token")};if(null==plus.storage.getItem("leave")||null==plus.storage.getItem("leave")||null==plus.storage.getItem("business")||null==plus.storage.getItem("overtime"))mui.ajax(apiUrl+"employee/jia_qin_type",{data:e,type:"post",timeout:1e4,success:function(e){var e=JSON.parse(e);if(1==e.status){var t=e.data.leave,i=e.data.reclock,n=e.data.business,a=e.data.overtime;plus.storage.setItem("leave",JSON.stringify(t)),plus.storage.setItem("reclock",JSON.stringify(i)),plus.storage.setItem("business",JSON.stringify(n)),plus.storage.setItem("overtime",JSON.stringify(a));var s='<option value="">请选择请假类型</option>';mui.each(JSON.parse(plus.storage.getItem("leave")),function(e,t){s+='<option value="'+t.id+'">'+t.name+"</option>"}),document.getElementById("qingjia-type").innerHTML=s;var r='<option value="">请选择补卡类型</option>';mui.each(JSON.parse(plus.storage.getItem("reclock")),function(e,t){r+='<option value="'+t.id+'">'+t.name+"</option>"}),document.getElementById("buka-type").innerHTML=r;var o='<option value="">请选择出差类型</option>';mui.each(JSON.parse(plus.storage.getItem("business")),function(e,t){o+='<option value="'+t.id+'">'+t.name+"</option>"}),document.getElementById("gongchu-type").innerHTML=o;var u='<option value="">请选择加班类型</option>';mui.each(JSON.parse(plus.storage.getItem("overtime")),function(e,t){u+='<option value="'+t.id+'">'+t.name+"</option>"}),document.getElementById("jiaban-type").innerHTML=u}else mui.alert("获取请假类型失败！")},beforeSend:function(){plus.nativeUI.showWaiting("玩命加载中...")},complete:function(){plus.nativeUI.closeWaiting()},error:function(e,t){"abort"==t?mui.alert("连接不到网络，请检查您当前的网络设置"):mui.alert("参数错误"+t)}});else{var t="";mui.each(JSON.parse(plus.storage.getItem("leave")),function(e,i){t+='<option value="'+i.id+'">'+i.name+"</option>"}),document.getElementById("qingjia-type").innerHTML=t;var i="";mui.each(JSON.parse(plus.storage.getItem("reclock")),function(e,t){i+='<option value="'+t.id+'">'+t.name+"</option>"}),document.getElementById("buka-type").innerHTML=i;var n="";mui.each(JSON.parse(plus.storage.getItem("business")),function(e,t){n+='<option value="'+t.id+'">'+t.name+"</option>"}),document.getElementById("gongchu-type").innerHTML=n;var a="";mui.each(JSON.parse(plus.storage.getItem("overtime")),function(e,t){a+='<option value="'+t.id+'">'+t.name+"</option>"}),document.getElementById("jiaban-type").innerHTML=a}document.getElementsByTagName("form")[0].onsubmit=function(){if(!this.wage_item_rule_id.value||!this.kai_shi_shi_jian.value||!this.jie_shu_shi_jian.value)return mui.alert("请完善您填写的信息"),!1;var e={token:plus.storage.getItem("token"),wage_item_rule_id:this.wage_item_rule_id.value,kai_shi_shi_jian:this.kai_shi_shi_jian.value,jie_shu_shi_jian:this.jie_shu_shi_jian.value,jia_qing_shi_you:this.jia_qing_shi_you.value,shen_pi_ren:this.shen_pi_ren.value,chao_song_ren:this.chao_song_ren.value};return""==this.shen_pi_ren.value?(mui.alert("请选择审批人"),!1):(mui.ajax(apiUrl+"employee/jia_qin_apply_test",{data:e,type:"post",timeout:1e4,success:function(e){var e=JSON.parse(e);1==e.status?(mui.alert(e.detail),document.forms[0].shen_pi_ren.value="",document.forms[0].chao_song_ren.value="",$("#forms0").find("#chao-song-ren-item").html(""),$("#forms0").find("#shen-he-ren-item").html(""),document.getElementsByTagName("form")[0].reset()):mui.alert(e.detail)},beforeSend:function(){plus.nativeUI.showWaiting("玩命加载中...")},complete:function(){plus.nativeUI.closeWaiting()},error:function(e,t){"abort"==t?mui.alert("连接不到网络，请检查您当前的网络设置"):mui.alert("参数错误"+t)}}),!1)},document.getElementsByTagName("form")[1].onsubmit=function(){if(!this.wage_item_rule_id.value||!this.bu_ka_ri_qi.value)return mui.alert("请完善您填写的信息"),!1;var e={token:plus.storage.getItem("token"),wage_item_rule_id:this.wage_item_rule_id.value,bu_ka_ri_qi:this.bu_ka_ri_qi.value,jia_qing_shi_you:this.jia_qing_shi_you.value,shen_pi_ren:this.shen_pi_ren.value,chao_song_ren:this.chao_song_ren.value,buka:1};return""==this.shen_pi_ren.value?(mui.alert("请选择审批人"),!1):(mui.ajax(apiUrl+"employee/jia_qin_apply_test",{data:e,type:"post",timeout:1e4,success:function(e){var e=JSON.parse(e);1==e.status?(mui.alert(e.detail),document.getElementsByTagName("form")[1].reset(),document.forms[1].shen_pi_ren.value="",document.forms[1].chao_song_ren.value="",$("#forms1").find("#chao-song-ren-item").html(""),$("#forms1").find("#shen-he-ren-item").html("")):mui.alert(e.detail)},beforeSend:function(){plus.nativeUI.showWaiting("玩命加载中...")},complete:function(){plus.nativeUI.closeWaiting()},error:function(e,t){"abort"==t?mui.alert("连接不到网络，请检查您当前的网络设置"):mui.alert("参数错误"+t)}}),!1)},document.getElementsByTagName("form")[2].onsubmit=function(){if(!this.wage_item_rule_id.value||!this.kai_shi_shi_jian.value||!this.jie_shu_shi_jian.value)return mui.alert("请完善您填写的信息"),!1;var e={token:plus.storage.getItem("token"),wage_item_rule_id:this.wage_item_rule_id.value,kai_shi_shi_jian:this.kai_shi_shi_jian.value,jie_shu_shi_jian:this.jie_shu_shi_jian.value,shen_pi_ren:this.shen_pi_ren.value,chao_song_ren:this.chao_song_ren.value,jia_qing_shi_you:this.jia_qing_shi_you.value};return""==this.shen_pi_ren.value?(mui.alert("请选择审批人"),!1):(mui.ajax(apiUrl+"employee/jia_qin_apply_test",{data:e,type:"post",timeout:1e4,success:function(e){var e=JSON.parse(e);1==e.status?(mui.alert(e.detail),document.getElementsByTagName("form")[2].reset(),document.forms[2].shen_pi_ren.value="",document.forms[2].chao_song_ren.value="",$("#forms2").find("#chao-song-ren-item").html(""),$("#forms2").find("#shen-he-ren-item").html("")):mui.alert(e.detail)},beforeSend:function(){plus.nativeUI.showWaiting("玩命加载中...")},complete:function(){plus.nativeUI.closeWaiting()},error:function(e,t){"abort"==t?mui.alert("连接不到网络，请检查您当前的网络设置"):mui.alert("参数错误"+t)}}),!1)},document.getElementsByTagName("form")[3].onsubmit=function(){if(!this.wage_item_rule_id.value||!this.kai_shi_shi_jian.value||!this.jie_shu_shi_jian.value)return mui.alert("请完善您填写的信息"),!1;var e={token:plus.storage.getItem("token"),wage_item_rule_id:this.wage_item_rule_id.value,kai_shi_shi_jian:this.kai_shi_shi_jian.value,jie_shu_shi_jian:this.jie_shu_shi_jian.value,jia_qing_shi_you:this.jia_qing_shi_you.value,shen_pi_ren:this.shen_pi_ren.value,chao_song_ren:this.chao_song_ren.value};return""==this.shen_pi_ren.value?(mui.alert("请选择审批人"),!1):(mui.ajax(apiUrl+"employee/jia_qin_apply_test",{data:e,type:"post",timeout:1e4,success:function(e){var e=JSON.parse(e);1==e.status?(mui.alert(e.detail),document.forms[3].shen_pi_ren.value="",document.forms[3].chao_song_ren.value="",$("#forms3").find("#chao-song-ren-item").html(""),$("#forms3").find("#shen-he-ren-item").html(""),document.getElementsByTagName("form")[3].reset()):mui.alert(e.detail)},beforeSend:function(){plus.nativeUI.showWaiting("玩命加载中...")},complete:function(){plus.nativeUI.closeWaiting()},error:function(e,t){"abort"==t?mui.alert("连接不到网络，请检查您当前的网络设置"):mui.alert("参数错误"+t)}}),!1)}})}});